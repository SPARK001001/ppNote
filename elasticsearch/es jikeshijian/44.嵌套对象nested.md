## 关系型数据库的范式化设计

- ![image-20221108170603106](img/image-20221108170603106.png)

## 反范式化

- ![image-20221108170637343](img/image-20221108170637343.png)

##  在es中处理关联关系

- ![image-20221108170721764](img/image-20221108170721764.png)

### 案例1

- ![image-20221108170836279](img/image-20221108170836279.png)

### 案例2: 查到不存在的数据

- ![image-20221108170939968](img/image-20221108170939968.png)

- ![image-20221108171119116](img/image-20221108171119116.png)
- 查到了不存在的数据
- ![image-20221108171139592](img/image-20221108171139592.png)

## nested data type

- ![image-20221108171252738](img/image-20221108171252738.png)

- 指定定义嵌套对象：  nested
  - ![image-20221108171347164](img/image-20221108171347164.png)

- 嵌套查询
  - ![image-20221108171423964](img/image-20221108171423964.png)

- ![image-20221108171447842](img/image-20221108171447842.png)

## nested aggregation

- ![image-20221108171647098](img/image-20221108171647098.png)

- 普通的aggregation不工作
  - ![image-20221108171716169](img/image-20221108171716169.png)