## 1.from /size

- ![image-20221108144534308](img/image-20221108144534308.png)

### 1. 分布式系统中深度分页的问题

- ![image-20221108144646592](img/image-20221108144646592.png)

## 2. search after 避免深度分页的问题

- ![image-20221108144853001](img/image-20221108144853001.png)
- ![image-20221108145445069](img/image-20221108145445069.png)
  - 通过唯一排序值，先在各个分片去取size个小于或大于唯一排序值的数据。再返回给协调节点进行排序处理返回

## 3. scroll api

- ![image-20221108145827672](img/image-20221108145827672.png)
- ![image-20221108150431006](img/image-20221108150431006.png)
- post /user/_search?scroll=5m,创建一个保留5分钟的快照。在创建快照之后新建的数据，通过scroll是查不到的

## 4. 不同搜索类型和使用场景

- ![image-20221108150113548](img/image-20221108150113548.png)