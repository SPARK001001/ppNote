1. **数据库**
   1. Redis服务器的所有数据库都保存在redisServer.db数组中，而数据库的数量由redisServer.dbnum属性保存
   2. 客户端通过修改目标数据库指针，让它指向redisServer.db数组中不同的元素来切换不同的数据库。
   3. 数据库主要由dict和expires两个字典组成，其中dict字典负责保存键值对，expires字典负责保存键的过期时间。
   4. 数据库由字典构成，所以数据库的操作都建立在字典的操作上。
   5. 数据库的键总是一个字符串对象，而值则可以使任意一种Redis对象类型，包括字符串对象、列表对象、哈希表对象、集合对象、有序集合对象。
   6. expires字典的键指向数据库中的某个键，值则记录了数据库键的过期时间，过期时间是一个以毫秒 为单位的unix时间戳。
   7. Redis使用`惰性删除和定期删除`两种策略来删除过期的键：惰性删除只是在碰到过期键时才进行删除操作，定期删除时每隔一段时间主动查找并删除过期键。
   8. 执行Save命令或bgsave命令生成RDB文件，不会包含过期的键。
   9. 执行bgrewriteaof命令重写产生的aof文件，不会包含过期的键。
   10. 当一个键过期被删除后，服务器会追加一条del命令到现有aof文件末尾，显式的删除过期键。
   11. 当主服务器删除一个过期键后，它会向所有从服务器发送一条del命令，显式的删除过期键。
   12. `从服务器即使发现过期键（命令调用之前会检查是否过期）也不会自作主张的删除它，而是等主服务器发来del命令，这种统一，中心化的过期键删除策略可以保证主从服务器数据的一致性。`
   13. 当Redis命令对服务器进行修改后，服务器会根据配置向客户端发送数据库通知。
   14. 命令：select 1 : 切换数据库； flushdb：清空整个数据库   ； TTL/PTTL:返回键的剩余生存时间，秒/毫秒为单位； persist key：删除键的过期时间 ； expire/pexpire/expireat/pexpireat  key .. :设置过期时间