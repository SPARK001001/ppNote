## 分布式系统的近视统计算法

- ![image-20221108161504767](img/image-20221108161504767.png)

- 如果要追求数据量大以及精确度， 采用Hadoop离线计算。

  

## min 聚合分析的执行流程

- ![image-20221108161648459](img/image-20221108161648459.png)

- 协调节点， 找各个分片的最小值，找到后，在协调节点进行最小值计算，最后返回

## Terms Aggregation的返回值

- ![image-20221108161941785](img/image-20221108161941785.png)

## terms 聚合分析的执行流程

- ![image-20221108162134901](img/image-20221108162134901.png)

- 取文档总数的top3
- ![image-20221108162330789](img/image-20221108162330789.png)

- ![image-20221108162720496](img/image-20221108162720496.png)

- ![image-20221108165415174](img/image-20221108165415174.png)